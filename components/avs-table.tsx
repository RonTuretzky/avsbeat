"use client";

import Image from "next/image";
import { Badge } from "@/components/ui/badge";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import type { AVSData } from "../utils/mock-data";

interface AVSTableProps {
  data: AVSData[];
}

export function AVSTable({ data }: AVSTableProps) {
  return (
    <Table className="hidden md:block">
      <TableHeader>
        <TableRow className="bg-[#ECECFF]">
          <TableHead className="rounded-tl-lg text-zinc-400">Name</TableHead>
          <TableHead className="text-center text-zinc-400">Risks</TableHead>
          <TableHead className="text-zinc-400">Stakers</TableHead>
          <TableHead className="text-zinc-400">Operators</TableHead>
          <TableHead className="rounded-tr-lg text-zinc-400">
            Category
          </TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {data.map((avs, index) => (
          <TableRow key={index} className="max-h-5 bg-white">
            <TableCell>
              <div className="flex items-start justify-start gap-4">
                <div className="min-h-8 min-w-8 rounded-full">
                  <Image
                    src={
                      avs.curatedMetadata?.metadataLogo || "/placeholder.svg"
                    }
                    alt={`${avs.name} logo`}
                    width={40}
                    height={40}
                  />
                </div>

                <div className="flex flex-col gap-4">
                  <span className="text-base font-bold text-black">
                    {avs.name}
                  </span>

                  <div className="my-2 flex gap-2">
                    <a href={avs.curatedMetadata.metadataX || ""}>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        className="size-4 fill-[#828282]"
                        viewBox="0 0 32 32"
                      >
                        <path d="M18.42,14.009L27.891,3h-2.244l-8.224,9.559L10.855,3H3.28l9.932,14.455L3.28,29h2.244l8.684-10.095,6.936,10.095h7.576l-10.301-14.991h0Zm-3.074,3.573l-1.006-1.439L6.333,4.69h3.447l6.462,9.243,1.006,1.439,8.4,12.015h-3.447l-6.854-9.804h0Z"></path>
                      </svg>
                    </a>

                    <a href={avs.curatedMetadata.metadataDiscord || ""}>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        className="size-4 fill-[#828282]"
                        viewBox="0 0 32 32"
                      >
                        <path d="M26.413,6.536c-1.971-.902-4.052-1.543-6.189-1.904-.292,.523-.557,1.061-.793,1.612-2.277-.343-4.592-.343-6.869,0-.236-.551-.5-1.089-.793-1.612-2.139,.365-4.221,1.006-6.194,1.909C1.658,12.336,.596,17.987,1.127,23.558h0c2.294,1.695,4.861,2.984,7.591,3.811,.615-.827,1.158-1.704,1.626-2.622-.888-.332-1.744-.741-2.56-1.222,.215-.156,.425-.316,.628-.472,4.806,2.26,10.37,2.26,15.177,0,.205,.168,.415,.328,.628,.472-.817,.483-1.676,.892-2.565,1.225,.467,.918,1.011,1.794,1.626,2.619,2.732-.824,5.301-2.112,7.596-3.808h0c.623-6.461-1.064-12.06-4.46-17.025Zm-15.396,13.596c-1.479,0-2.702-1.343-2.702-2.994s1.18-3.006,2.697-3.006,2.73,1.354,2.704,3.006-1.192,2.994-2.699,2.994Zm9.967,0c-1.482,0-2.699-1.343-2.699-2.994s1.18-3.006,2.699-3.006,2.723,1.354,2.697,3.006-1.189,2.994-2.697,2.994Z"></path>
                      </svg>
                    </a>

                    <a href={avs.curatedMetadata.metadataGithub || ""}>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        className="size-4 fill-[#828282]"
                        viewBox="0 0 32 32"
                      >
                        <path d="M16,2.345c7.735,0,14,6.265,14,14-.002,6.015-3.839,11.359-9.537,13.282-.7,.14-.963-.298-.963-.665,0-.473,.018-1.978,.018-3.85,0-1.312-.437-2.152-.945-2.59,3.115-.35,6.388-1.54,6.388-6.912,0-1.54-.543-2.783-1.435-3.762,.14-.35,.63-1.785-.14-3.71,0,0-1.173-.385-3.85,1.435-1.12-.315-2.31-.472-3.5-.472s-2.38,.157-3.5,.472c-2.677-1.802-3.85-1.435-3.85-1.435-.77,1.925-.28,3.36-.14,3.71-.892,.98-1.435,2.24-1.435,3.762,0,5.355,3.255,6.563,6.37,6.913-.403,.35-.77,.963-.893,1.872-.805,.368-2.818,.963-4.077-1.155-.263-.42-1.05-1.452-2.152-1.435-1.173,.018-.472,.665,.017,.927,.595,.332,1.277,1.575,1.435,1.978,.28,.787,1.19,2.293,4.707,1.645,0,1.173,.018,2.275,.018,2.607,0,.368-.263,.787-.963,.665-5.719-1.904-9.576-7.255-9.573-13.283,0-7.735,6.265-14,14-14Z"></path>
                      </svg>
                    </a>
                  </div>
                  <p className="text-foreground">
                    {avs.curatedMetadata.metadataDescription}
                  </p>
                </div>
              </div>
            </TableCell>
            <TableCell className="px-8">
              {/* <RiskAnalysisChart scores={avs.riskScore} hasLabels={false} /> */}
              <svg
                width="72"
                height="73"
                viewBox="0 0 72 73"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="36" cy="36.5" r="36" fill="#E6E6E6" />
                <mask id="path-2-inside-1_11_544" fill="white">
                  <path d="M36.0001 5.18006C36.0001 3.39066 37.4539 1.92429 39.2354 2.0918C45.3836 2.66985 51.2862 4.88755 56.3139 8.54043C61.3417 12.1933 65.2748 17.1217 67.7245 22.7903C68.4343 24.4329 67.489 26.2687 65.7872 26.8216L44.0118 33.8969C42.3099 34.4499 40.4948 33.3579 39.0471 32.3061C37.5995 31.2543 36.0001 29.8655 36.0001 28.0761L36.0001 5.18006Z" />
                </mask>
                <path
                  d="M36.0001 5.18006C36.0001 3.39066 37.4539 1.92429 39.2354 2.0918C45.3836 2.66985 51.2862 4.88755 56.3139 8.54043C61.3417 12.1933 65.2748 17.1217 67.7245 22.7903C68.4343 24.4329 67.489 26.2687 65.7872 26.8216L44.0118 33.8969C42.3099 34.4499 40.4948 33.3579 39.0471 32.3061C37.5995 31.2543 36.0001 29.8655 36.0001 28.0761L36.0001 5.18006Z"
                  fill="#2EB81D"
                  stroke="#E6E6E6"
                  stroke-width="3.888"
                  mask="url(#path-2-inside-1_11_544)"
                />
                <mask id="path-3-inside-2_11_544" fill="white">
                  <path d="M65.7872 26.8216C67.489 26.2687 69.3328 27.1982 69.7241 28.9444C71.0742 34.9702 70.789 41.2692 68.8686 47.1797C66.9481 53.0902 63.4764 58.3538 58.8422 62.4352C57.4994 63.6179 55.4613 63.2861 54.4095 61.8385L40.9516 43.3152C39.8998 41.8676 40.3774 39.8038 40.9303 38.102C41.4833 36.4002 42.3099 34.4499 44.0118 33.8969L65.7872 26.8216Z" />
                </mask>
                <path
                  d="M65.7872 26.8216C67.489 26.2687 69.3328 27.1982 69.7241 28.9444C71.0742 34.9702 70.789 41.2692 68.8686 47.1797C66.9481 53.0902 63.4764 58.3538 58.8422 62.4352C57.4994 63.6179 55.4613 63.2861 54.4095 61.8385L40.9516 43.3152C39.8998 41.8676 40.3774 39.8038 40.9303 38.102C41.4833 36.4002 42.3099 34.4499 44.0118 33.8969L65.7872 26.8216Z"
                  fill="#E8A556"
                  stroke="#E6E6E6"
                  stroke-width="3.888"
                  mask="url(#path-3-inside-2_11_544)"
                />
                <mask id="path-4-inside-3_11_544" fill="white">
                  <path d="M54.4095 61.8385C55.4613 63.2861 55.147 65.327 53.6073 66.2386C48.2935 69.3848 42.2147 71.0601 36.0001 71.0601C29.7854 71.0601 23.7066 69.3848 18.3929 66.2386C16.8531 65.327 16.5388 63.2861 17.5906 61.8385L31.0486 43.3152C32.1003 41.8676 34.2107 41.6841 36.0001 41.6841C37.7895 41.6841 39.8998 41.8676 40.9516 43.3152L54.4095 61.8385Z" />
                </mask>
                <path
                  d="M54.4095 61.8385C55.4613 63.2861 55.147 65.327 53.6073 66.2386C48.2935 69.3848 42.2147 71.0601 36.0001 71.0601C29.7854 71.0601 23.7066 69.3848 18.3929 66.2386C16.8531 65.327 16.5388 63.2861 17.5906 61.8385L31.0486 43.3152C32.1003 41.8676 34.2107 41.6841 36.0001 41.6841C37.7895 41.6841 39.8998 41.8676 40.9516 43.3152L54.4095 61.8385Z"
                  fill="#FE1717"
                  stroke="#E6E6E6"
                  stroke-width="3.888"
                  mask="url(#path-4-inside-3_11_544)"
                />
                <mask id="path-5-inside-4_11_544" fill="white">
                  <path d="M17.5906 61.8385C16.5388 63.2861 14.5008 63.6179 13.1579 62.4352C8.52374 58.3538 5.05198 53.0902 3.13155 47.1797C1.21112 41.2692 0.92596 34.9702 2.27608 28.9443C2.6673 27.1982 4.51115 26.2687 6.21298 26.8216L27.9884 33.8969C29.6902 34.4499 30.5168 36.4002 31.0698 38.102C31.6227 39.8038 32.1003 41.8676 31.0486 43.3152L17.5906 61.8385Z" />
                </mask>
                <path
                  d="M17.5906 61.8385C16.5388 63.2861 14.5008 63.6179 13.1579 62.4352C8.52374 58.3538 5.05198 53.0902 3.13155 47.1797C1.21112 41.2692 0.92596 34.9702 2.27608 28.9443C2.6673 27.1982 4.51115 26.2687 6.21298 26.8216L27.9884 33.8969C29.6902 34.4499 30.5168 36.4002 31.0698 38.102C31.6227 39.8038 32.1003 41.8676 31.0486 43.3152L17.5906 61.8385Z"
                  fill="#2EB81D"
                  stroke="#E6E6E6"
                  stroke-width="3.888"
                  mask="url(#path-5-inside-4_11_544)"
                />
                <mask id="path-6-inside-5_11_544" fill="white">
                  <path d="M6.21298 26.8216C4.51115 26.2687 3.56582 24.4329 4.27566 22.7903C6.7253 17.1217 10.6585 12.1933 15.6862 8.54042C20.714 4.88754 26.6165 2.66985 32.7647 2.0918C34.5462 1.92429 36.0001 3.39066 36.0001 5.18005L36.0001 28.0761C36.0001 29.8655 34.4006 31.2543 32.953 32.3061C31.5053 33.3579 29.6902 34.4499 27.9884 33.8969L6.21298 26.8216Z" />
                </mask>
                <path
                  d="M6.21298 26.8216C4.51115 26.2687 3.56582 24.4329 4.27566 22.7903C6.7253 17.1217 10.6585 12.1933 15.6862 8.54042C20.714 4.88754 26.6165 2.66985 32.7647 2.0918C34.5462 1.92429 36.0001 3.39066 36.0001 5.18005L36.0001 28.0761C36.0001 29.8655 34.4006 31.2543 32.953 32.3061C31.5053 33.3579 29.6902 34.4499 27.9884 33.8969L6.21298 26.8216Z"
                  fill="#FE1717"
                  stroke="#E6E6E6"
                  stroke-width="3.888"
                  mask="url(#path-6-inside-5_11_544)"
                />
              </svg>
            </TableCell>
            <TableCell>{avs.totalStakers}</TableCell>
            <TableCell>{avs.totalOperators}</TableCell>
            <TableCell>
              {avs.curatedMetadata.tags?.map((tag) => <Badge>{tag}</Badge>)}
            </TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  );
}
